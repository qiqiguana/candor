<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>id_2166.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">leetcode</a> &gt; <a href="index.source.html" class="el_package">original</a> &gt; <span class="el_source">id_2166.java</span></div><h1>id_2166.java</h1><pre class="source lang-java linenums">package original;

import java.util.Arrays;
class Bitset {
    private char[] a;
    private char[] b;
    private int cnt;

<span class="nc" id="L9">    public Bitset(int size) {</span>
<span class="nc" id="L10">        a = new char[size];</span>
<span class="nc" id="L11">        b = new char[size];</span>
<span class="nc" id="L12">        Arrays.fill(a, '0');</span>
<span class="nc" id="L13">        Arrays.fill(b, '1');</span>
<span class="nc" id="L14">    }</span>

    public void fix(int idx) {
  /**
  A Bitset is a data structure that compactly stores bits. Implement the Bitset class: Bitset(int size) Initializes the Bitset with size bits, all of which are 0. void fix(int idx) Updates the value of the bit at the index idx to 1. If the value was already 1, no change occurs. void unfix(int idx) Updates the value of the bit at the index idx to 0. If the value was already 0, no change occurs. void flip() Flips the values of each bit in the Bitset. In other words, all bits with value 0 will now have value 1 and vice versa. boolean all() Checks if the value of each bit in the Bitset is 1. Returns true if it satisfies the condition, false otherwise. boolean one() Checks if there is at least one bit in the Bitset with value 1. Returns true if it satisfies the condition, false otherwise. int count() Returns the total number of bits in the Bitset which have value 1. String toString() Returns the current composition of the Bitset. Note that in the resultant string, the character at the ith index should coincide with the value at the ith bit of the Bitset. &amp;nbsp; Example 1: Input [&amp;quot;Bitset&amp;quot;, &amp;quot;fix&amp;quot;, &amp;quot;fix&amp;quot;, &amp;quot;flip&amp;quot;, &amp;quot;all&amp;quot;, &amp;quot;unfix&amp;quot;, &amp;quot;flip&amp;quot;, &amp;quot;one&amp;quot;, &amp;quot;unfix&amp;quot;, &amp;quot;count&amp;quot;, &amp;quot;toString&amp;quot;] [[5], [3], [1], [], [], [0], [], [], [0], [], []] Output [null, null, null, null, false, null, null, true, null, 2, &amp;quot;01010&amp;quot;] Explanation Bitset bs = new Bitset(5); // bitset = &amp;quot;00000&amp;quot;. bs.fix(3); // the value at idx = 3 is updated to 1, so bitset = &amp;quot;00010&amp;quot;. bs.fix(1); // the value at idx = 1 is updated to 1, so bitset = &amp;quot;01010&amp;quot;. bs.flip(); // the value of each bit is flipped, so bitset = &amp;quot;10101&amp;quot;. bs.all(); // return False, as not all values of the bitset are 1. bs.unfix(0); // the value at idx = 0 is updated to 0, so bitset = &amp;quot;00101&amp;quot;. bs.flip(); // the value of each bit is flipped, so bitset = &amp;quot;11010&amp;quot;. bs.one(); // return True, as there is at least 1 index with value 1. bs.unfix(0); // the value at idx = 0 is updated to 0, so bitset = &amp;quot;01010&amp;quot;. bs.count(); // return 2, as there are 2 bits with value 1. bs.toString(); // return &amp;quot;01010&amp;quot;, which is the composition of bitset. &amp;nbsp; Constraints: 1 &amp;lt;= size &amp;lt;= 105 0 &amp;lt;= idx &amp;lt;= size - 1 At most 105 calls will be made in total to fix, unfix, flip, all, one, count, and toString. At least one call will be made to all, one, count, or toString. At most 5 calls will be made to toString.
  */
<span class="nc bnc" id="L20" title="All 2 branches missed.">        if (a[idx] == '0') {</span>
<span class="nc" id="L21">            a[idx] = '1';</span>
<span class="nc" id="L22">            ++cnt;</span>
        }
<span class="nc" id="L24">        b[idx] = '0';</span>
<span class="nc" id="L25">    }</span>

    public void unfix(int idx) {
<span class="nc bnc" id="L28" title="All 2 branches missed.">        if (a[idx] == '1') {</span>
<span class="nc" id="L29">            a[idx] = '0';</span>
<span class="nc" id="L30">            --cnt;</span>
        }
<span class="nc" id="L32">        b[idx] = '1';</span>
<span class="nc" id="L33">    }</span>

    public void flip() {
<span class="nc" id="L36">        char[] t = a;</span>
<span class="nc" id="L37">        a = b;</span>
<span class="nc" id="L38">        b = t;</span>
<span class="nc" id="L39">        cnt = a.length - cnt;</span>
<span class="nc" id="L40">    }</span>

    public boolean all() {
<span class="nc bnc" id="L43" title="All 2 branches missed.">        return cnt == a.length;</span>
    }

    public boolean one() {
<span class="nc bnc" id="L47" title="All 2 branches missed.">        return cnt &gt; 0;</span>
    }

    public int count() {
<span class="nc" id="L51">        return cnt;</span>
    }

    public String toString() {
<span class="nc" id="L55">        return String.valueOf(a);</span>
    }
}

/**
 * Your Bitset object will be instantiated and called as such:
 * Bitset obj = new Bitset(size);
 * obj.fix(idx);
 * obj.unfix(idx);
 * obj.flip();
 * boolean param_4 = obj.all();
 * boolean param_5 = obj.one();
 * int param_6 = obj.count();
 * String param_7 = obj.toString();
 */
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>